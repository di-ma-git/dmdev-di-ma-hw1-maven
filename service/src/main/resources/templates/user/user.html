<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>User</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
</head>

<body>
<div class="container-fluid text-left">
    <form th:action="@{/users/{userId}/update(userId=${user.id})}" enctype="multipart/form-data" method="post">
        <label for="name">Name:
            <input id="name" name="name" th:value="${user.name}">
        </label>
        <label for="phoneNumber">Phone:
            <input id="phoneNumber" name="phoneNumber" th:value="${user.phoneNumber}">
        </label>
        <label for="email">Email:
            <input id="email" name="email" th:value="${user.email}">
        </label><br>
        <label for="address">Delivery address:
            <textarea id="address" type="text" name="deliveryAddress" th:field="${user.deliveryAddress}"></textarea>
        </label>
        <div th:if="${user.image}" style="width: 200px; height: 200px; overflow: hidden">
            <img th:src="@{/api/v1/users/{userId}/avatar(userId=${user.id})}"
                 alt="User image"
                 style="width: 100%; height: auto; clip-path: circle(50%)">
        </div>
        <label for="image">Image:
            <input id="image" type="file" name="image">
        </label>
<!--        <label for="password">Password:-->
<!--            <input id="password" name="password" th:value="${user.password}">-->
<!--        </label>-->
        <div>
            <label for="role">Role:
                <select name="role" id="role">
                    <option th:each="role : ${roles}"
                            th:text="${role}"
                            th:value="${role}"
                            th:selected="${role == user.role}">Role
                    </option>
                </select>
            </label>
        </div>
        <button type="submit">Update</button>
    </form>
    <form th:action="@{/users/{userId}/delete(userId=${user.id})}" th:if="${user.role.name() == 'ADMIN'}" method="post">
        <button type="submit">Delete</button>
    </form>
</body>

</html>